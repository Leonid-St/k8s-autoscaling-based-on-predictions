---
title: Шифрование в {{ compute-full-name }}
description: Из статьи вы узнаете про варианты шифрования в {{ compute-name }} и использование пользовательских ключей {{ kms-short-name }}.
---

# Шифрование в {{ compute-name }}


По умолчанию все данные на [дисках](../../compute/concepts/disk.md) {{ compute-name }} шифруются на уровне базы данных хранилища с помощью системного ключа. Это позволяет защитить данные от компрометации в случае физической кражи дисков из дата-центров {{ yandex-cloud }}. Подробнее см. [{#T}](../../security/standarts.md#sec-data).

Рекомендуем также использовать шифрование дисков, [снимков](snapshot.md) и [образов](image.md) с помощью пользовательских [симметричных ключей](../../kms/concepts/key.md) {{ kms-full-name }}. Такой подход позволяет:
* защищаться от потенциальных угроз нарушения изоляции и компрометации данных на уровне виртуальной инфраструктуры;
* контролировать шифрование и жизненный цикл ключей {{ kms-short-name }}, а также управлять ими, см. [{#T}](../../kms/operations/key.md);
* повысить уровень контроля доступа к данным на диске за счет необходимости прав на ключ {{ kms-short-name }}, см. [{#T}](../../kms/operations/key-access.md);
* отслеживать операции шифрования и расшифрования вашим ключом {{ kms-short-name }} с помощью сервиса {{ at-full-name }}, см. [Аудит использования ключей](../../kms/concepts/index.md#keys-audit).

Вы можете зашифровать диски следующих типов:
* Сетевой SSD-диск (`network-ssd`).
* Сетевой HDD-диск (`network-hdd`).
* Нереплицируемый SSD-диск (`network-ssd-nonreplicated`).
* Сверхбыстрое сетевое хранилище с тремя репликами (SSD) (`network-ssd-io-m3`).

Подробнее см. [Типы дисков](disk.md#disks-types).

{% include [encryption-disable-warning](../../_includes/compute/encryption-disable-warning.md) %}

Шифрование в {{ compute-name }} доступно с помощью [консоли управления]({{ link-console-main }}), [CLI](../cli-ref/disk/create.md) и [API](../api-ref/Disk/create.md).

## Варианты шифрования {#encryption-options}

Варианты создания зашифрованных ресурсов {{ compute-name }}, а также особенности использования ключей {{ kms-short-name }}:

| **Конечный ресурс** | **Исходный ресурс** | **Ключ** | **Примечание** |
| --- | --- | --- | --- |
| Пустой зашифрованный диск | —                      | Любой       | См. [{#T}](../operations/disk-create/empty.md). |
| Зашифрованный диск        | Незашифрованный образ  | Любой       | См. [{#T}](../operations/disk-create/from-image.md).</br>Также с помощью образа можно</br>зашифровать существующие [диски](../operations/disk-control/disk-encrypt.md) и [снимки](../operations/snapshot-control/snapshot-encrypt.md). |
| Зашифрованный диск        | Зашифрованный образ    | Ключ образа | См. [{#T}](../operations/disk-create/from-image.md).</br>Также с помощью зашифрованного</br>образа можно сделать копию</br>зашифрованного диска. |
| Зашифрованный диск        | Незашифрованный снимок | Любой       | См. [{#T}](../operations/disk-create/from-snapshot.md). |
| Зашифрованный диск        | Зашифрованный снимок   | Ключ снимка | См. [{#T}](../operations/disk-create/from-snapshot.md). |
| Зашифрованный образ       | Зашифрованный диск     | Ключ диска  | См. [{#T}](../operations/image-create/create-from-disk.md). |
| Зашифрованный снимок      | Зашифрованный диск     | Ключ диска  | См. [{#T}](../operations/disk-control/create-snapshot.md). |

## Использование пользовательских ключей {#user-keys}

Использование пользовательских ключей {{ kms-short-name }} для шифрования дисков и снимков позволяет гранулярнее контролировать доступ к зашифрованным данным: создавать ключи под конкретного пользователя или задачу, своевременно деактивировать или удалять конкретные ключи.

{% include [encryption-keys-note](../../_includes/compute/encryption-keys-note.md) %}

Чтобы использовать шифрование в {{ compute-name }}, у пользователя должна быть роль `kms.keys.user` или `kms.admin` на ключ, который используется для шифрования. Данные [роли](../../kms/security/index.md#kms-admin) позволяют:

* создавать зашифрованный диск;
* создавать ВМ с зашифрованным диском;
* подключать зашифрованный диск к существующей ВМ;
* выполнять операции старта и рестарта ВМ с зашифрованным диском.

Подробнее см. [Управление доступом](../../kms/security/index.md).


### См. также {#see-also}

* [Шифрование данных и управление ключами и секретами](../../security/standard/encryption.md)

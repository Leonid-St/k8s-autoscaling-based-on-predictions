# Обзор сервиса {{ backup-full-name }}

{{ backup-full-name }} — сервис для создания [резервных копий](../../glossary/backup.md) и восстановления ресурсов {{ yandex-cloud }} и данных на них. Доступно копирование и восстановление [виртуальных машин {{ compute-name }}](../../compute/concepts/vm.md), созданных из [поддерживаемых образов {{ marketplace-name }}](vm-connection.md#os), а также [серверов {{ baremetal-full-name }}](../../baremetal/concepts/servers.md) с [поддерживаемыми операционными системами](vm-connection.md#self-install).

{% include [vm-and-bms-backup-incompatibility](../../_includes/backup/vm-and-bms-backup-incompatibility.md) %}

{% include [baremetal-note](../../_includes/backup/baremetal-note.md) %}

Копии ВМ и серверов {{ baremetal-name }} создаются по принципу application-consistent: сохраняются не только данные на дисках, но и данные, которые были отправлены в запись на диск и еще не успели записаться. Такой подход позволяет возобновить работу приложений, запущенных в момент создания копии, сразу после восстановления ВМ или сервера {{ baremetal-name }} из резервной копии. Это важно для ВМ и серверов, которые входят в состав систем хранения данных. Например, когда на ВМ или сервере {{ baremetal-name }} запущена система управления базами данных (СУБД).

{{ backup-name }} умеет создавать [полные и инкрементальные копии](backup.md#types). В полной копии хранятся все данные ВМ или сервера {{ baremetal-name }} — восстановление происходит быстрее, чем из инкрементальной, но такая копия занимает больше места и создается дольше. В инкрементальной копии содержатся только отличия от предыдущей копии — она создается быстрее и занимает меньше места, но восстановление из такой копии длится дольше, чем из полной. Если вы понимаете, что с момента создания последней копии на ВМ или сервере {{ baremetal-name }} накопилось много изменений, лучше сделать полную копию.

Также с помощью {{ backup-name }} можно восстановить из резервной копии отдельные файлы и директории на любые из ВМ, подключенных к сервису. Подробнее см. в разделе [Пофайловое восстановление](backup.md#file-by-file). Пофайловое восстановление на серверы {{ baremetal-name }} в настоящий момент невозможно.

Чтобы для ВМ или сервера {{ baremetal-name }} можно было включить резервное копирование, их нужно подключить к сервису и настроить. Подробнее см. в разделе [{#T}](vm-connection.md).

{% include [vm-running](../../_includes/backup/vm-running.md) %}

После подключения к {{ backup-name }} и настройки виртуальную машину или сервер {{ baremetal-name }} нужно привязать к [политике резервного копирования](policy.md) — ресурсу {{ backup-name }}. Политика содержит настройки создания и хранения резервных копий. Вы можете привязывать ВМ и серверы {{ baremetal-name }} к политикам, созданным по умолчанию, или создавать свои политики.

{{ backup-name }} автоматически поставляет [метрики](../metrics.md) количества защищенных виртуальных машин и серверов {{ baremetal-name }}, а также объема хранилища, занятого резервными копиями, в сервис [{{ monitoring-full-name }}](../../monitoring/index.yaml).

В сервисе действуют ограничения — [квоты и лимиты](limits.md).

## Сравнение со снимками дисков ВМ в {{ compute-name }} {#snapshot-comparison}

{% include [backup-image-snapshot-comparison](../../_includes/backup-image-snapshot-comparison.md) %}

## Активация сервиса и провайдер резервного копирования {#providers}

Работу {{ backup-name }} обеспечивает _провайдер резервного копирования_. Сейчас в сервисе доступен один провайдер — Киберпротект.

Для начала работы сервис нужно активировать — подключиться к провайдеру резервного копирования. Вы можете [активировать](../operations/activate-service.md) сервис напрямую или [подключить](vm-connection.md) к {{ backup-name }} первую виртуальную машину или сервер {{ baremetal-name }} — в этом случае сервис активируется автоматически.

Минимальная роль в каталоге, необходимая для активации сервиса, — `backup.editor` (см. [описание роли](../security/index.md#backup-editor)).

{% include [default-policies](../../_includes/backup/default-policies.md) %}